(()=>{var t,e={929:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContenteditableEditor=void 0;const u=r(675),n=r(408);class o extends u.Editor{constructor(t){super(),this.el=t,this.onInput=()=>{this.el.normalize(),this.emitChangeEvent()},this.onKeydown=t=>{const e=this.getCode(t);let r;"UP"===e||"DOWN"===e?r=this.emitMoveEvent(e):"ENTER"===e?r=this.emitEnterEvent():"ESC"===e&&(r=this.emitEscEvent()),r&&r.defaultPrevented&&t.preventDefault()},this.startListening=()=>{this.el.addEventListener("input",this.onInput),this.el.addEventListener("keydown",this.onKeydown)},this.stopListening=()=>{this.el.removeEventListener("input",this.onInput),this.el.removeEventListener("keydown",this.onKeydown)},this.startListening()}destroy(){return super.destroy(),this.stopListening(),this}applySearchResult(t){const e=this.getBeforeCursor(),r=this.getAfterCursor();if(null!=e&&null!=r){const u=t.replace(e,r);if(Array.isArray(u)){let t=u[0];(0,n.isSafari)()&&(t=t.replace(e,""));const r=this.getRange();r.selectNode(r.startContainer),this.el.ownerDocument.execCommand("insertText",!1,t+u[1]),r.detach();const o=this.getRange();o.setStart(o.startContainer,t.length),o.collapse(!0)}}}getCursorOffset(){const t=this.getRange(),e=t.getBoundingClientRect(),r=this.el.ownerDocument.body.getBoundingClientRect(),u=t.startContainer,o=u instanceof Text?u.parentElement:u,i=e.left,D=(0,n.getLineHeightPx)(o),s=e.top-r.top+D;return"rtl"!==this.el.dir?{left:i,lineHeight:D,top:s}:{right:document.documentElement.clientWidth-i,lineHeight:D,top:s}}getBeforeCursor(){const t=this.getRange();return t.collapsed&&t.startContainer instanceof Text?t.startContainer.wholeText.substring(0,t.startOffset):null}getAfterCursor(){const t=this.getRange();return t.collapsed&&t.startContainer instanceof Text?t.startContainer.wholeText.substring(t.startOffset):null}getRange(t){var e;const r=null===(e=this.el.ownerDocument.defaultView)||void 0===e?void 0:e.getSelection();if(null==r)throw new Error("The element does not belong to view");for(let t=0,e=r.rangeCount;t<e;t++){const e=r.getRangeAt(t);if(this.el.contains(e.startContainer))return e}if(t)throw new Error("Unexpected");const u=this.el.ownerDocument.activeElement;this.el.focus();const n=this.getRange(!0);if(u){const t=u;t.focus&&t.focus()}return n}}e.ContenteditableEditor=o},336:function(t,e,r){"use strict";var u=this&&this.__createBinding||(Object.create?function(t,e,r,u){void 0===u&&(u=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,u,n)}:function(t,e,r,u){void 0===u&&(u=r),t[u]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||u(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(929),e)},613:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Completer=void 0;const u=r(729),n=r(200);class o extends u.EventEmitter{constructor(t){super(),this.handleQueryResult=t=>{this.emit("hit",{searchResults:t})},this.strategies=t.map((t=>new n.Strategy(t)))}destroy(){return this.strategies.forEach((t=>t.destroy())),this}run(t){for(const e of this.strategies){if(e.execute(t,this.handleQueryResult))return}this.handleQueryResult([])}}e.Completer=o},707:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dropdown=e.DEFAULT_DROPDOWN_ITEM_ACTIVE_CLASS_NAME=e.DEFAULT_DROPDOWN_ITEM_CLASS_NAME=e.DEFAULT_DROPDOWN_CLASS_NAME=e.DEFAULT_DROPDOWN_PLACEMENT=e.DEFAULT_DROPDOWN_MAX_COUNT=void 0;const u=r(729),n=r(320);e.DEFAULT_DROPDOWN_MAX_COUNT=10,e.DEFAULT_DROPDOWN_PLACEMENT="auto",e.DEFAULT_DROPDOWN_CLASS_NAME="dropdown-menu textcomplete-dropdown",e.DEFAULT_DROPDOWN_ITEM_CLASS_NAME="textcomplete-item",e.DEFAULT_DROPDOWN_ITEM_ACTIVE_CLASS_NAME=`${e.DEFAULT_DROPDOWN_ITEM_CLASS_NAME} active`;class o extends u.EventEmitter{constructor(t,e){super(),this.el=t,this.option=e,this.shown=!1,this.items=[],this.activeIndex=null}static create(t){const r=document.createElement("ul");r.className=t.className||e.DEFAULT_DROPDOWN_CLASS_NAME,Object.assign(r.style,{display:"none",position:"absolute",zIndex:"1000"},t.style);const u=t.parent||document.body;return null==u||u.appendChild(r),new o(r,t)}render(t,r){const u=(0,n.createCustomEvent)("render",{cancelable:!0});return this.emit("render",u),u.defaultPrevented?this:(this.clear(),0===t.length?this.hide():(this.items=t.slice(0,this.option.maxCount||e.DEFAULT_DROPDOWN_MAX_COUNT).map(((t,e)=>{var r;return new i(this,e,t,(null===(r=this.option)||void 0===r?void 0:r.item)||{})})),this.setStrategyId(t[0]).renderEdge(t,"header").renderItems().renderEdge(t,"footer").show().setOffset(r).activate(0),this.emit("rendered",(0,n.createCustomEvent)("rendered")),this))}destroy(){var t;return this.clear(),null===(t=this.el.parentNode)||void 0===t||t.removeChild(this.el),this}select(t){const e={searchResult:t.searchResult},r=(0,n.createCustomEvent)("select",{cancelable:!0,detail:e});return this.emit("select",r),r.defaultPrevented||(this.hide(),this.emit("selected",(0,n.createCustomEvent)("selected",{detail:e}))),this}show(){if(!this.shown){const t=(0,n.createCustomEvent)("show",{cancelable:!0});if(this.emit("show",t),t.defaultPrevented)return this;this.el.style.display="block",this.shown=!0,this.emit("shown",(0,n.createCustomEvent)("shown"))}return this}hide(){if(this.shown){const t=(0,n.createCustomEvent)("hide",{cancelable:!0});if(this.emit("hide",t),t.defaultPrevented)return this;this.el.style.display="none",this.shown=!1,this.clear(),this.emit("hidden",(0,n.createCustomEvent)("hidden"))}return this}clear(){return this.items.forEach((t=>t.destroy())),this.items=[],this.el.innerHTML="",this.activeIndex=null,this}up(t){return this.shown?this.moveActiveItem("prev",t):this}down(t){return this.shown?this.moveActiveItem("next",t):this}moveActiveItem(t,e){if(null!=this.activeIndex){const r="next"===t?this.getNextActiveIndex():this.getPrevActiveIndex();null!=r&&(this.activate(r),e.preventDefault())}return this}activate(t){return this.activeIndex!==t&&(null!=this.activeIndex&&this.items[this.activeIndex].deactivate(),this.activeIndex=t,this.items[t].activate()),this}isShown(){return this.shown}getActiveItem(){return null!=this.activeIndex?this.items[this.activeIndex]:null}setOffset(t){const r=document.documentElement;if(r){const u=this.el.offsetWidth;if(t.left){const e=this.option.dynamicWidth?r.scrollWidth:r.clientWidth;t.left+u>e&&(t.left=e-u),this.el.style.left=`${t.left}px`}else t.right&&(t.right-u<0&&(t.right=0),this.el.style.right=`${t.right}px`);let n=!1;const o=this.option.placement||e.DEFAULT_DROPDOWN_PLACEMENT;if("auto"===o){const e=this.items.length*t.lineHeight;n=null!=t.clientTop&&t.clientTop+e>r.clientHeight}"top"===o||n?(this.el.style.bottom=`${r.clientHeight-t.top+t.lineHeight}px`,this.el.style.top="auto"):(this.el.style.top=`${t.top}px`,this.el.style.bottom="auto")}return this}getNextActiveIndex(){if(null==this.activeIndex)throw new Error;return this.activeIndex<this.items.length-1?this.activeIndex+1:this.option.rotate?0:null}getPrevActiveIndex(){if(null==this.activeIndex)throw new Error;return 0!==this.activeIndex?this.activeIndex-1:this.option.rotate?this.items.length-1:null}renderItems(){const t=document.createDocumentFragment();for(const e of this.items)t.appendChild(e.el);return this.el.appendChild(t),this}setStrategyId(t){const e=t.getStrategyId();return e&&(this.el.dataset.strategy=e),this}renderEdge(t,e){const r=this.option[e],u=document.createElement("li");return u.className=`textcomplete-${e}`,u.innerHTML="function"==typeof r?r(t.map((t=>t.data))):r||"",this.el.appendChild(u),this}}e.Dropdown=o;class i{constructor(t,r,u,n){this.dropdown=t,this.index=r,this.searchResult=u,this.props=n,this.active=!1,this.onClick=t=>{t.preventDefault(),this.dropdown.select(this)},this.className=this.props.className||e.DEFAULT_DROPDOWN_ITEM_CLASS_NAME,this.activeClassName=this.props.activeClassName||e.DEFAULT_DROPDOWN_ITEM_ACTIVE_CLASS_NAME;const o=document.createElement("li");o.className=this.active?this.activeClassName:this.className;const i=document.createElement("span");i.tabIndex=-1,i.innerHTML=this.searchResult.render(),o.appendChild(i),o.addEventListener("click",this.onClick),this.el=o}destroy(){var t;const e=this.el;return null===(t=e.parentNode)||void 0===t||t.removeChild(e),e.removeEventListener("click",this.onClick,!1),this}activate(){return this.active||(this.active=!0,this.el.className=this.activeClassName,this.dropdown.el.scrollTop=this.el.offsetTop),this}deactivate(){return this.active&&(this.active=!1,this.el.className=this.className),this}}},685:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;const u=r(729),n=r(320);class o extends u.EventEmitter{destroy(){return this}applySearchResult(t){throw new Error("Not implemented.")}getCursorOffset(){throw new Error("Not implemented.")}getBeforeCursor(){throw new Error("Not implemented.")}emitMoveEvent(t){const e=(0,n.createCustomEvent)("move",{cancelable:!0,detail:{code:t}});return this.emit("move",e),e}emitEnterEvent(){const t=(0,n.createCustomEvent)("enter",{cancelable:!0});return this.emit("enter",t),t}emitChangeEvent(){const t=(0,n.createCustomEvent)("change",{detail:{beforeCursor:this.getBeforeCursor()}});return this.emit("change",t),t}emitEscEvent(){const t=(0,n.createCustomEvent)("esc",{cancelable:!0});return this.emit("esc",t),t}getCode(t){return 9===t.keyCode||13===t.keyCode?"ENTER":27===t.keyCode?"ESC":38===t.keyCode?"UP":40===t.keyCode||78===t.keyCode&&t.ctrlKey?"DOWN":80===t.keyCode&&t.ctrlKey?"UP":"OTHER"}}e.Editor=o},933:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchResult=void 0;const r=/\$&/g,u=/\$(\d)/g;e.SearchResult=class{constructor(t,e,r){this.data=t,this.term=e,this.strategy=r}getReplacementData(t){let e=this.strategy.replace(this.data);if(null==e)return null;let n="";Array.isArray(e)&&(n=e[1],e=e[0]);const o=this.strategy.match(t);if(null==o||null==o.index)return null;const i=e.replace(r,o[0]).replace(u,((t,e)=>o[parseInt(e)]));return{start:o.index,end:o.index+o[0].length,beforeCursor:i,afterCursor:n}}replace(t,e){const r=this.getReplacementData(t);if(null!==r)return e=r.afterCursor+e,[[t.slice(0,r.start),r.beforeCursor,t.slice(r.end)].join(""),e]}render(){return this.strategy.renderTemplate(this.data,this.term)}getStrategyId(){return this.strategy.getId()}}},200:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Strategy=e.DEFAULT_INDEX=void 0;const u=r(933);e.DEFAULT_INDEX=1;e.Strategy=class{constructor(t){this.props=t,this.cache={}}destroy(){return this.cache={},this}replace(t){return this.props.replace(t)}execute(t,r){var n;const o=this.matchWithContext(t);if(!o)return!1;const i=o[null!==(n=this.props.index)&&void 0!==n?n:e.DEFAULT_INDEX];return this.search(i,(t=>{r(t.map((t=>new u.SearchResult(t,i,this))))}),o),!0}renderTemplate(t,e){if(this.props.template)return this.props.template(t,e);if("string"==typeof t)return t;throw new Error(`Unexpected render data type: ${typeof t}. Please implement template parameter by yourself`)}getId(){return this.props.id||null}match(t){return"function"==typeof this.props.match?this.props.match(t):t.match(this.props.match)}search(t,e,r){this.props.cache?this.searchWithCach(t,e,r):this.props.search(t,e,r)}matchWithContext(t){const e=this.context(t);return!1===e?null:this.match(!0===e?t:e)}context(t){return!this.props.context||this.props.context(t)}searchWithCach(t,e,r){null!=this.cache[t]?e(this.cache[t]):this.props.search(t,(r=>{this.cache[t]=r,e(r)}),r)}}},409:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Textcomplete=void 0;const u=r(729),n=r(707),o=r(613),i=["show","shown","render","rendered","selected","hidden","hide"];class D extends u.EventEmitter{constructor(t,e,r){super(),this.editor=t,this.isQueryInFlight=!1,this.nextPendingQuery=null,this.handleHit=({searchResults:t})=>{t.length?this.dropdown.render(t,this.editor.getCursorOffset()):this.dropdown.hide(),this.isQueryInFlight=!1,null!==this.nextPendingQuery&&this.trigger(this.nextPendingQuery)},this.handleMove=t=>{"UP"===t.detail.code?this.dropdown.up(t):this.dropdown.down(t)},this.handleEnter=t=>{const e=this.dropdown.getActiveItem();e?(this.dropdown.select(e),t.preventDefault()):this.dropdown.hide()},this.handleEsc=t=>{this.dropdown.isShown()&&(this.dropdown.hide(),t.preventDefault())},this.handleChange=t=>{null!=t.detail.beforeCursor?this.trigger(t.detail.beforeCursor):this.dropdown.hide()},this.handleSelect=t=>{this.emit("select",t),t.defaultPrevented||this.editor.applySearchResult(t.detail.searchResult)},this.handleResize=()=>{this.dropdown.isShown()&&this.dropdown.setOffset(this.editor.getCursorOffset())},this.completer=new o.Completer(e),this.dropdown=n.Dropdown.create((null==r?void 0:r.dropdown)||{}),this.startListening()}destroy(t=!0){return this.completer.destroy(),this.dropdown.destroy(),t&&this.editor.destroy(),this.stopListening(),this}isShown(){return this.dropdown.isShown()}hide(){return this.dropdown.hide(),this}trigger(t){return this.isQueryInFlight?this.nextPendingQuery=t:(this.isQueryInFlight=!0,this.nextPendingQuery=null,this.completer.run(t)),this}startListening(){var t;this.editor.on("move",this.handleMove).on("enter",this.handleEnter).on("esc",this.handleEsc).on("change",this.handleChange),this.dropdown.on("select",this.handleSelect);for(const t of i)this.dropdown.on(t,(e=>this.emit(t,e)));this.completer.on("hit",this.handleHit),null===(t=this.dropdown.el.ownerDocument.defaultView)||void 0===t||t.addEventListener("resize",this.handleResize)}stopListening(){var t;null===(t=this.dropdown.el.ownerDocument.defaultView)||void 0===t||t.removeEventListener("resize",this.handleResize),this.completer.removeAllListeners(),this.dropdown.removeAllListeners(),this.editor.removeListener("move",this.handleMove).removeListener("enter",this.handleEnter).removeListener("esc",this.handleEsc).removeListener("change",this.handleChange)}}e.Textcomplete=D},675:function(t,e,r){"use strict";var u=this&&this.__createBinding||(Object.create?function(t,e,r,u){void 0===u&&(u=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,u,n)}:function(t,e,r,u){void 0===u&&(u=r),t[u]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||u(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(613),e),n(r(707),e),n(r(685),e),n(r(933),e),n(r(200),e),n(r(409),e),n(r(320),e)},320:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCustomEvent=void 0;const r="undefined"!=typeof window&&!!window.CustomEvent;e.createCustomEvent=(t,e)=>{if(r)return new CustomEvent(t,e);const u=document.createEvent("CustomEvent");return u.initCustomEvent(t,!1,(null==e?void 0:e.cancelable)||!1,(null==e?void 0:e.detail)||void 0),u}},566:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateElementOffset=void 0;e.calculateElementOffset=t=>{const e=t.getBoundingClientRect(),r=t.ownerDocument;if(null==r)throw new Error("Given element does not belong to document");const{defaultView:u,documentElement:n}=r;if(null==u)throw new Error("Given element does not belong to window");const o={top:e.top+u.pageYOffset,left:e.left+u.pageXOffset};return n&&(o.top-=n.clientTop,o.left-=n.clientLeft),o}},881:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLineHeightPx=void 0;const r="0".charCodeAt(0),u="9".charCodeAt(0),n=t=>r<=t&&t<=u;e.getLineHeightPx=t=>{const e=getComputedStyle(t),r=e.lineHeight;if(n(r.charCodeAt(0))){const t=parseFloat(r);return n(r.charCodeAt(r.length-1))?t*parseFloat(e.fontSize):t}return o(t.nodeName,e)};const o=(t,e)=>{const r=document.body;if(!r)return 0;const u=document.createElement(t);u.innerHTML="&nbsp;",Object.assign(u.style,{fontSize:e.fontSize,fontFamily:e.fontFamily,padding:"0"}),r.appendChild(u),u instanceof HTMLTextAreaElement&&(u.rows=1);const n=u.offsetHeight;return r.removeChild(u),n}},408:function(t,e,r){"use strict";var u=this&&this.__createBinding||(Object.create?function(t,e,r,u){void 0===u&&(u=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,u,n)}:function(t,e,r,u){void 0===u&&(u=r),t[u]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||u(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(566),e),n(r(881),e),n(r(449),e)},449:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSafari=void 0;e.isSafari=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},949:(t,e,r)=>{"use strict";function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */n=function(){return e};var t,e={},r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},D="function"==typeof Symbol?Symbol:{},s=D.iterator||"@@iterator",a=D.asyncIterator||"@@asyncIterator",c=D.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function l(t,e,r,u){var n=e&&e.prototype instanceof y?e:y,o=Object.create(n.prototype),D=new M(u||[]);return i(o,"_invoke",{value:L(t,r,D)}),o}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",F="suspendedYield",p="executing",E="completed",C={};function y(){}function v(){}function m(){}var g={};h(g,s,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(N([])));x&&x!==r&&o.call(x,s)&&(g=x);var b=m.prototype=y.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(n,i,D,s){var a=f(t[n],t,i);if("throw"!==a.type){var c=a.arg,h=c.value;return h&&"object"==u(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,D,s)}),(function(t){r("throw",t,D,s)})):e.resolve(h).then((function(t){c.value=t,D(c)}),(function(t){return r("throw",t,D,s)}))}s(a.arg)}var n;i(this,"_invoke",{value:function(t,u){function o(){return new e((function(e,n){r(t,u,e,n)}))}return n=n?n.then(o,o):o()}})}function L(e,r,u){var n=d;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===E){if("throw"===o)throw i;return{value:t,done:!0}}for(u.method=o,u.arg=i;;){var D=u.delegate;if(D){var s=B(D,u);if(s){if(s===C)continue;return s}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(n===d)throw n=E,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);n=p;var a=f(e,r,u);if("normal"===a.type){if(n=u.done?E:F,a.arg===C)continue;return{value:a.arg,done:u.done}}"throw"===a.type&&(n=E,u.method="throw",u.arg=a.arg)}}}function B(e,r){var u=r.method,n=e.iterator[u];if(n===t)return r.delegate=null,"throw"===u&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==u&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+u+"' method")),C;var o=f(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,C;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,C):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,C)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(o.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(u(e)+" is not iterable")}return v.prototype=m,i(b,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:v,configurable:!0}),v.displayName=h(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,h(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},e.awrap=function(t){return{__await:t}},A(_.prototype),h(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,u,n,o){void 0===o&&(o=Promise);var i=new _(l(t,r,u,n),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},A(b),h(b,c,"Generator"),h(b,s,(function(){return this})),h(b,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var u in e)r.push(u);return r.reverse(),function t(){for(;r.length;){var u=r.pop();if(u in e)return t.value=u,t.done=!1,t}return t.done=!0,t}},e.values=N,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function u(u,n){return D.type="throw",D.arg=e,r.next=u,n&&(r.method="next",r.arg=t),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],D=i.completion;if("root"===i.tryLoc)return u("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),a=o.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return u(i.catchLoc,!0);if(this.prev<i.finallyLoc)return u(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return u(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return u(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var u=this.tryEntries[r];if(u.tryLoc<=this.prev&&o.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var n=u;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var i=n?n.completion:{};return i.type=t,i.arg=e,n?(this.method="next",this.next=n.finallyLoc,C):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),C},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),C}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var u=r.completion;if("throw"===u.type){var n=u.arg;S(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,u){return this.delegate={iterator:N(e),resultName:r,nextLoc:u},"next"===this.method&&(this.arg=t),C}},e}function o(t,e,r,u,n,o,i){try{var D=t[o](i),s=D.value}catch(t){return void r(t)}D.done?e(s):Promise.resolve(s).then(u,n)}
/*!
 * element-emotes
 * Copyright (C) 2022-present  Michael Serajnik  https://github.com/mserajnik
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
var i=function(t,e){return"".concat(t,"?accessKey=").concat(e)};const D={fetchEmotes:(s=n().mark((function t(){var e,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i(F.get("emotesUrl"),F.get("accessKey")));case 2:if((e=t.sent).ok){t.next=8;break}throw(r=new Error("HTTP status code: ".concat(e.status))).response=e,r.status=e.status,r;case 8:return t.next=10,e.json();case 10:return e=t.sent,t.abrupt("return",e.emotes);case 12:case"end":return t.stop()}}),t)})),a=function(){var t=this,e=arguments;return new Promise((function(r,u){var n=s.apply(t,e);function i(t){o(n,r,u,i,D,"next",t)}function D(t){o(n,r,u,i,D,"throw",t)}i(void 0)}))},function(){return a.apply(this,arguments)})};var s,a;function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */h=function(){return e};var t,e={},r=Object.prototype,u=r.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",D=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function l(t,e,r,u){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),D=new M(u||[]);return n(i,"_invoke",{value:L(t,r,D)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",F="suspendedYield",p="executing",E="completed",C={};function y(){}function v(){}function m(){}var g={};a(g,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(N([])));x&&x!==r&&u.call(x,i)&&(g=x);var b=m.prototype=y.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(n,o,i,D){var s=f(t[n],t,o);if("throw"!==s.type){var a=s.arg,h=a.value;return h&&"object"==c(h)&&u.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,i,D)}),(function(t){r("throw",t,i,D)})):e.resolve(h).then((function(t){a.value=t,i(a)}),(function(t){return r("throw",t,i,D)}))}D(s.arg)}var o;n(this,"_invoke",{value:function(t,u){function n(){return new e((function(e,n){r(t,u,e,n)}))}return o=o?o.then(n,n):n()}})}function L(e,r,u){var n=d;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===E){if("throw"===o)throw i;return{value:t,done:!0}}for(u.method=o,u.arg=i;;){var D=u.delegate;if(D){var s=B(D,u);if(s){if(s===C)continue;return s}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(n===d)throw n=E,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);n=p;var a=f(e,r,u);if("normal"===a.type){if(n=u.done?E:F,a.arg===C)continue;return{value:a.arg,done:u.done}}"throw"===a.type&&(n=E,u.method="throw",u.arg=a.arg)}}}function B(e,r){var u=r.method,n=e.iterator[u];if(n===t)return r.delegate=null,"throw"===u&&e.iterator.return&&(r.method="return",r.arg=t,B(e,r),"throw"===r.method)||"return"!==u&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+u+"' method")),C;var o=f(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,C;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,C):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,C)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(u.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(c(e)+" is not iterable")}return v.prototype=m,n(b,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:v,configurable:!0}),v.displayName=a(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,a(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},e.awrap=function(t){return{__await:t}},A(_.prototype),a(_.prototype,D,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,u,n,o){void 0===o&&(o=Promise);var i=new _(l(t,r,u,n),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},A(b),a(b,s,"Generator"),a(b,i,(function(){return this})),a(b,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var u in e)r.push(u);return r.reverse(),function t(){for(;r.length;){var u=r.pop();if(u in e)return t.value=u,t.done=!1,t}return t.done=!0,t}},e.values=N,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&u.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(u,n){return D.type="throw",D.arg=e,r.next=u,n&&(r.method="next",r.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],D=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=u.call(i,"catchLoc"),a=u.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,C):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),C},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),C}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var u=r.completion;if("throw"===u.type){var n=u.arg;S(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,u){return this.delegate={iterator:N(e),resultName:r,nextLoc:u},"next"===this.method&&(this.arg=t),C}},e}function l(t,e,r,u,n,o,i){try{var D=t[o](i),s=D.value}catch(t){return void r(t)}D.done?e(s):Promise.resolve(s).then(u,n)}
/*!
 * element-emotes
 * Copyright (C) 2022-present  Michael Serajnik  https://github.com/mserajnik
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
var f=!1,d={emotesUrl:null,accessKey:null,defaultEmoteSize:null,largeEmoteSize:null,useFrozenEmotes:null,emotes:[]};const F={initialize:function(){return new Promise((function(t,e){chrome.storage.sync.get(null,function(){var r=function(t){return function(){var e=this,r=arguments;return new Promise((function(u,n){var o=t.apply(e,r);function i(t){l(o,u,n,i,D,"next",t)}function D(t){l(o,u,n,i,D,"throw",t)}i(void 0)}))}}(h().mark((function r(u){var n;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!chrome.runtime.lastError){r.next=2;break}return r.abrupt("return",e(new Error("Error while intializing the store.")));case 2:r.t0=h().keys(u);case 3:if((r.t1=r.t0()).done){r.next=10;break}if(n=r.t1.value,Object.hasOwn(d,n)){r.next=7;break}return r.abrupt("continue",3);case 7:d[n]=u[n],r.next=3;break;case 10:return f=!0,r.prev=11,r.next=14,D.fetchEmotes();case 14:d.emotes=r.sent,r.next=20;break;case 17:return r.prev=17,r.t2=r.catch(11),r.abrupt("return",e(new Error("Error while trying to fetch the emote list; is the emote server URL and/or access key set correctly?")));case 20:t();case 21:case"end":return r.stop()}}),r,null,[[11,17]])})));return function(t){return r.apply(this,arguments)}}())}))},get:function(t){if(!f)throw new Error("Store has not been initialized; call `store.initialize()` first.");return d[t]}};var p,E,C=r(976),y=r.n(C);function v(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=g(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var u=0,n=function(){};return{s:n,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,D=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){D=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(D)throw o}}}}function g(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,u=new Array(e);r<e;r++)u[r]=t[r];return u}
/*!
 * element-emotes
 * Copyright (C) 2022-present  Michael Serajnik  https://github.com/mserajnik
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */var x=function(t){return""===(t=function(t){var e,r=m(F.get("emotes"));try{for(r.s();!(e=r.n()).done;){var u=e.value;t=t.split(":".concat(u.name,":")).join("")}}catch(t){r.e(t)}finally{r.f()}return t}(t.replace(/\s/g,"").replace(/[\u200D\u2003]/g,"").replace(new RegExp(y().source,"gi"),""))).trim()},b=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=document.querySelectorAll("[data-frozen-emote-url]");if(e.length){var r,u=m(e);try{for(u.s();!(r=u.n()).done;){var n=r.value;t?n.src=n.dataset.frozenEmoteUrl:n.src=n.dataset.emoteUrl}}catch(t){u.e(t)}finally{u.f()}}},A=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.dataset.emotesReplaced||e){var r=t.querySelector(".mx_EventTile_body");if(r){var u,n,o=r.innerHTML,i=x(r.textContent)?"max-height:".concat(F.get("largeEmoteSize"),";vertical-align:bottom"):"max-height:".concat(F.get("defaultEmoteSize")),D=m(F.get("emotes"));try{for(D.s();!(u=D.n()).done;){var s=u.value,a=(n=s.url).match(/^.+\/emotes\/.+\.(gif|apng)(\?.+)?$/)?n.split("/emotes/").join("/frozen-emotes/"):null;o=o.split(":".concat(s.name,":")).join('<img\n          style="'.concat(i,'"')+(E&&a?document.hasFocus()?'src="'.concat(s.url,"?accessKey=").concat(p,'"'):'src="'.concat(a,"?accessKey=").concat(p,'"'):'src="'.concat(s.url,"?accessKey=").concat(p,'"'))+'data-emote-url="'.concat(s.url,"?accessKey=").concat(p,'"')+(E&&a?'data-frozen-emote-url="'.concat(a,"?accessKey=").concat(p,'"'):"")+'alt="'.concat(s.name,'"\n          title="').concat(s.name,'">'))}}catch(t){D.e(t)}finally{D.f()}r.innerHTML=o,t.dataset.emotesReplaced=!0}}},_=function t(e){e.classList&&e.classList.contains("mx_EventTile_content")?A(e):e.classList&&e.classList.contains("mx_EventTile_edited")?A(e.parentNode,!0):e.childNodes&&v(e.childNodes).forEach(t)};const L=function(){p=F.get("accessKey"),E=F.get("useFrozenEmotes"),new MutationObserver((function(t){var e,r=m(t);try{for(r.s();!(e=r.n()).done;){var u,n=m(e.value.addedNodes);try{for(n.s();!(u=n.n()).done;){var o=u.value;_(o)}}catch(t){n.e(t)}finally{n.f()}}}catch(t){r.e(t)}finally{r.f()}})).observe(document.body,{childList:!0,subtree:!0}),E&&(window.focus(),window.addEventListener("focus",(function(){b(!1)})),window.addEventListener("blur",(function(){b(!0)})))};function B(t){return Array.isArray?Array.isArray(t):"[object Array]"===T(t)}const O=1/0;function S(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-O?"-0":e}(t)}function M(t){return"string"==typeof t}function N(t){return"number"==typeof t}function k(t){return!0===t||!1===t||function(t){return j(t)&&null!==t}(t)&&"[object Boolean]"==T(t)}function j(t){return"object"==typeof t}function I(t){return null!=t}function P(t){return!t.trim().length}function T(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const R=t=>`Missing ${t} property in key`,$=t=>`Property 'weight' in key '${t}' must be a positive integer`,W=Object.prototype.hasOwnProperty;class U{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let r=G(t);e+=r.weight,this._keys.push(r),this._keyMap[r.id]=r,e+=r.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function G(t){let e=null,r=null,u=null,n=1,o=null;if(M(t)||B(t))u=t,e=z(t),r=H(t);else{if(!W.call(t,"name"))throw new Error(R("name"));const i=t.name;if(u=i,W.call(t,"weight")&&(n=t.weight,n<=0))throw new Error($(i));e=z(i),r=H(i),o=t.getFn}return{path:e,id:r,weight:n,src:u,getFn:o}}function z(t){return B(t)?t:t.split(".")}function H(t){return B(t)?t.join("."):t}var K={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(t,e){let r=[],u=!1;const n=(t,e,o)=>{if(I(t))if(e[o]){const i=t[e[o]];if(!I(i))return;if(o===e.length-1&&(M(i)||N(i)||k(i)))r.push(S(i));else if(B(i)){u=!0;for(let t=0,r=i.length;t<r;t+=1)n(i[t],e,o+1)}else e.length&&n(i,e,o+1)}else r.push(t)};return n(t,M(e)?e.split("."):e,0),u?r:r[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const Q=/[^ ]+/g;class V{constructor({getFn:t=K.getFn,fieldNormWeight:e=K.fieldNormWeight}={}){this.norm=function(t=1,e=3){const r=new Map,u=Math.pow(10,e);return{get(e){const n=e.match(Q).length;if(r.has(n))return r.get(n);const o=1/Math.pow(n,.5*t),i=parseFloat(Math.round(o*u)/u);return r.set(n,i),i},clear(){r.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,M(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();M(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,r=this.size();e<r;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!I(t)||P(t))return;let r={v:t,i:e,n:this.norm.get(t)};this.records.push(r)}_addObject(t,e){let r={i:e,$:{}};this.keys.forEach(((e,u)=>{let n=e.getFn?e.getFn(t):this.getFn(t,e.path);if(I(n))if(B(n)){let t=[];const e=[{nestedArrIndex:-1,value:n}];for(;e.length;){const{nestedArrIndex:r,value:u}=e.pop();if(I(u))if(M(u)&&!P(u)){let e={v:u,i:r,n:this.norm.get(u)};t.push(e)}else B(u)&&u.forEach(((t,r)=>{e.push({nestedArrIndex:r,value:t})}))}r.$[u]=t}else if(M(n)&&!P(n)){let t={v:n,n:this.norm.get(n)};r.$[u]=t}})),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Y(t,e,{getFn:r=K.getFn,fieldNormWeight:u=K.fieldNormWeight}={}){const n=new V({getFn:r,fieldNormWeight:u});return n.setKeys(t.map(G)),n.setSources(e),n.create(),n}function X(t,{errors:e=0,currentLocation:r=0,expectedLocation:u=0,distance:n=K.distance,ignoreLocation:o=K.ignoreLocation}={}){const i=e/t.length;if(o)return i;const D=Math.abs(u-r);return n?i+D/n:D?1:i}const q=32;function J(t,e,r,{location:u=K.location,distance:n=K.distance,threshold:o=K.threshold,findAllMatches:i=K.findAllMatches,minMatchCharLength:D=K.minMatchCharLength,includeMatches:s=K.includeMatches,ignoreLocation:a=K.ignoreLocation}={}){if(e.length>q)throw new Error(`Pattern length exceeds max of ${q}.`);const c=e.length,h=t.length,l=Math.max(0,Math.min(u,h));let f=o,d=l;const F=D>1||s,p=F?Array(h):[];let E;for(;(E=t.indexOf(e,d))>-1;){let t=X(e,{currentLocation:E,expectedLocation:l,distance:n,ignoreLocation:a});if(f=Math.min(t,f),d=E+c,F){let t=0;for(;t<c;)p[E+t]=1,t+=1}}d=-1;let C=[],y=1,v=c+h;const m=1<<c-1;for(let u=0;u<c;u+=1){let o=0,D=v;for(;o<D;){X(e,{errors:u,currentLocation:l+D,expectedLocation:l,distance:n,ignoreLocation:a})<=f?o=D:v=D,D=Math.floor((v-o)/2+o)}v=D;let s=Math.max(1,l-D+1),E=i?h:Math.min(l+D,h)+c,g=Array(E+2);g[E+1]=(1<<u)-1;for(let o=E;o>=s;o-=1){let i=o-1,D=r[t.charAt(i)];if(F&&(p[i]=+!!D),g[o]=(g[o+1]<<1|1)&D,u&&(g[o]|=(C[o+1]|C[o])<<1|1|C[o+1]),g[o]&m&&(y=X(e,{errors:u,currentLocation:i,expectedLocation:l,distance:n,ignoreLocation:a}),y<=f)){if(f=y,d=i,d<=l)break;s=Math.max(1,2*l-d)}}if(X(e,{errors:u+1,currentLocation:l,expectedLocation:l,distance:n,ignoreLocation:a})>f)break;C=g}const g={isMatch:d>=0,score:Math.max(.001,y)};if(F){const t=function(t=[],e=K.minMatchCharLength){let r=[],u=-1,n=-1,o=0;for(let i=t.length;o<i;o+=1){let i=t[o];i&&-1===u?u=o:i||-1===u||(n=o-1,n-u+1>=e&&r.push([u,n]),u=-1)}return t[o-1]&&o-u>=e&&r.push([u,o-1]),r}(p,D);t.length?s&&(g.indices=t):g.isMatch=!1}return g}function Z(t){let e={};for(let r=0,u=t.length;r<u;r+=1){const n=t.charAt(r);e[n]=(e[n]||0)|1<<u-r-1}return e}class tt{constructor(t,{location:e=K.location,threshold:r=K.threshold,distance:u=K.distance,includeMatches:n=K.includeMatches,findAllMatches:o=K.findAllMatches,minMatchCharLength:i=K.minMatchCharLength,isCaseSensitive:D=K.isCaseSensitive,ignoreLocation:s=K.ignoreLocation}={}){if(this.options={location:e,threshold:r,distance:u,includeMatches:n,findAllMatches:o,minMatchCharLength:i,isCaseSensitive:D,ignoreLocation:s},this.pattern=D?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const a=(t,e)=>{this.chunks.push({pattern:t,alphabet:Z(t),startIndex:e})},c=this.pattern.length;if(c>q){let t=0;const e=c%q,r=c-e;for(;t<r;)a(this.pattern.substr(t,q),t),t+=q;if(e){const t=c-q;a(this.pattern.substr(t),t)}}else a(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:r}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return r&&(e.indices=[[0,t.length-1]]),e}const{location:u,distance:n,threshold:o,findAllMatches:i,minMatchCharLength:D,ignoreLocation:s}=this.options;let a=[],c=0,h=!1;this.chunks.forEach((({pattern:e,alphabet:l,startIndex:f})=>{const{isMatch:d,score:F,indices:p}=J(t,e,l,{location:u+f,distance:n,threshold:o,findAllMatches:i,minMatchCharLength:D,includeMatches:r,ignoreLocation:s});d&&(h=!0),c+=F,d&&p&&(a=[...a,...p])}));let l={isMatch:h,score:h?c/this.chunks.length:1};return h&&r&&(l.indices=a),l}}class et{constructor(t){this.pattern=t}static isMultiMatch(t){return rt(t,this.multiRegex)}static isSingleMatch(t){return rt(t,this.singleRegex)}search(){}}function rt(t,e){const r=t.match(e);return r?r[1]:null}class ut extends et{constructor(t,{location:e=K.location,threshold:r=K.threshold,distance:u=K.distance,includeMatches:n=K.includeMatches,findAllMatches:o=K.findAllMatches,minMatchCharLength:i=K.minMatchCharLength,isCaseSensitive:D=K.isCaseSensitive,ignoreLocation:s=K.ignoreLocation}={}){super(t),this._bitapSearch=new tt(t,{location:e,threshold:r,distance:u,includeMatches:n,findAllMatches:o,minMatchCharLength:i,isCaseSensitive:D,ignoreLocation:s})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class nt extends et{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,r=0;const u=[],n=this.pattern.length;for(;(e=t.indexOf(this.pattern,r))>-1;)r=e+n,u.push([e,r-1]);const o=!!u.length;return{isMatch:o,score:o?0:1,indices:u}}}const ot=[class extends et{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},nt,class extends et{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends et{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends et{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends et{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends et{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},ut],it=ot.length,Dt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const st=new Set([ut.type,nt.type]);class at{constructor(t,{isCaseSensitive:e=K.isCaseSensitive,includeMatches:r=K.includeMatches,minMatchCharLength:u=K.minMatchCharLength,ignoreLocation:n=K.ignoreLocation,findAllMatches:o=K.findAllMatches,location:i=K.location,threshold:D=K.threshold,distance:s=K.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:r,minMatchCharLength:u,findAllMatches:o,ignoreLocation:n,location:i,threshold:D,distance:s},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let r=t.trim().split(Dt).filter((t=>t&&!!t.trim())),u=[];for(let t=0,n=r.length;t<n;t+=1){const n=r[t];let o=!1,i=-1;for(;!o&&++i<it;){const t=ot[i];let r=t.isMultiMatch(n);r&&(u.push(new t(r,e)),o=!0)}if(!o)for(i=-1;++i<it;){const t=ot[i];let r=t.isSingleMatch(n);if(r){u.push(new t(r,e));break}}}return u}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:u}=this.options;t=u?t:t.toLowerCase();let n=0,o=[],i=0;for(let u=0,D=e.length;u<D;u+=1){const D=e[u];o.length=0,n=0;for(let e=0,u=D.length;e<u;e+=1){const u=D[e],{isMatch:s,indices:a,score:c}=u.search(t);if(!s){i=0,n=0,o.length=0;break}if(n+=1,i+=c,r){const t=u.constructor.type;st.has(t)?o=[...o,...a]:o.push(a)}}if(n){let t={isMatch:!0,score:i/n};return r&&(t.indices=o),t}}return{isMatch:!1,score:1}}}const ct=[];function ht(t,e){for(let r=0,u=ct.length;r<u;r+=1){let u=ct[r];if(u.condition(t,e))return new u(t,e)}return new tt(t,e)}const lt="$and",ft="$or",dt="$path",Ft="$val",pt=t=>!(!t[lt]&&!t[ft]),Et=t=>({[lt]:Object.keys(t).map((e=>({[e]:t[e]})))});function Ct(t,e,{auto:r=!0}={}){const u=t=>{let n=Object.keys(t);const o=(t=>!!t[dt])(t);if(!o&&n.length>1&&!pt(t))return u(Et(t));if((t=>!B(t)&&j(t)&&!pt(t))(t)){const u=o?t[dt]:n[0],i=o?t[Ft]:t[u];if(!M(i))throw new Error((t=>`Invalid value for key ${t}`)(u));const D={keyId:H(u),pattern:i};return r&&(D.searcher=ht(i,e)),D}let i={children:[],operator:n[0]};return n.forEach((e=>{const r=t[e];B(r)&&r.forEach((t=>{i.children.push(u(t))}))})),i};return pt(t)||(t=Et(t)),u(t)}function yt(t,e){const r=t.matches;e.matches=[],I(r)&&r.forEach((t=>{if(!I(t.indices)||!t.indices.length)return;const{indices:r,value:u}=t;let n={indices:r,value:u};t.key&&(n.key=t.key.src),t.idx>-1&&(n.refIndex=t.idx),e.matches.push(n)}))}function vt(t,e){e.score=t.score}class mt{constructor(t,e={},r){this.options={...K,...e},this.options.useExtendedSearch,this._keyStore=new U(this.options.keys),this.setCollection(t,r)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof V))throw new Error("Incorrect 'index' type");this._myIndex=e||Y(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){I(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let r=0,u=this._docs.length;r<u;r+=1){const n=this._docs[r];t(n,r)&&(this.removeAt(r),r-=1,u-=1,e.push(n))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:r,includeScore:u,shouldSort:n,sortFn:o,ignoreFieldNorm:i}=this.options;let D=M(t)?M(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=K.ignoreFieldNorm}){t.forEach((t=>{let r=1;t.matches.forEach((({key:t,norm:u,score:n})=>{const o=t?t.weight:null;r*=Math.pow(0===n&&o?Number.EPSILON:n,(o||1)*(e?1:u))})),t.score=r}))}(D,{ignoreFieldNorm:i}),n&&D.sort(o),N(e)&&e>-1&&(D=D.slice(0,e)),function(t,e,{includeMatches:r=K.includeMatches,includeScore:u=K.includeScore}={}){const n=[];return r&&n.push(yt),u&&n.push(vt),t.map((t=>{const{idx:r}=t,u={item:e[r],refIndex:r};return n.length&&n.forEach((e=>{e(t,u)})),u}))}(D,this._docs,{includeMatches:r,includeScore:u})}_searchStringList(t){const e=ht(t,this.options),{records:r}=this._myIndex,u=[];return r.forEach((({v:t,i:r,n})=>{if(!I(t))return;const{isMatch:o,score:i,indices:D}=e.searchIn(t);o&&u.push({item:t,idx:r,matches:[{score:i,value:t,norm:n,indices:D}]})})),u}_searchLogical(t){const e=Ct(t,this.options),r=(t,e,u)=>{if(!t.children){const{keyId:r,searcher:n}=t,o=this._findMatches({key:this._keyStore.get(r),value:this._myIndex.getValueForItemAtKeyId(e,r),searcher:n});return o&&o.length?[{idx:u,item:e,matches:o}]:[]}const n=[];for(let o=0,i=t.children.length;o<i;o+=1){const i=t.children[o],D=r(i,e,u);if(D.length)n.push(...D);else if(t.operator===lt)return[]}return n},u=this._myIndex.records,n={},o=[];return u.forEach((({$:t,i:u})=>{if(I(t)){let i=r(e,t,u);i.length&&(n[u]||(n[u]={idx:u,item:t,matches:[]},o.push(n[u])),i.forEach((({matches:t})=>{n[u].matches.push(...t)})))}})),o}_searchObjectList(t){const e=ht(t,this.options),{keys:r,records:u}=this._myIndex,n=[];return u.forEach((({$:t,i:u})=>{if(!I(t))return;let o=[];r.forEach(((r,u)=>{o.push(...this._findMatches({key:r,value:t[u],searcher:e}))})),o.length&&n.push({idx:u,item:t,matches:o})})),n}_findMatches({key:t,value:e,searcher:r}){if(!I(e))return[];let u=[];if(B(e))e.forEach((({v:e,i:n,n:o})=>{if(!I(e))return;const{isMatch:i,score:D,indices:s}=r.searchIn(e);i&&u.push({score:D,key:t,value:e,idx:n,norm:o,indices:s})}));else{const{v:n,n:o}=e,{isMatch:i,score:D,indices:s}=r.searchIn(n);i&&u.push({score:D,key:t,value:n,norm:o,indices:s})}return u}}function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function wt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=bt(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var u=0,n=function(){};return{s:n,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,D=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){D=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(D)throw o}}}}function xt(t){return function(t){if(Array.isArray(t))return At(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||bt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(t,e){if(t){if("string"==typeof t)return At(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?At(t,e):void 0}}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,u=new Array(e);r<e;r++)u[r]=t[r];return u}function _t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_t=function(){return e};var t,e={},r=Object.prototype,u=r.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",D=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function c(t,e,r,u){var o=e&&e.prototype instanceof E?e:E,i=Object.create(o.prototype),D=new O(u||[]);return n(i,"_invoke",{value:A(t,r,D)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var l="suspendedStart",f="suspendedYield",d="executing",F="completed",p={};function E(){}function C(){}function y(){}var v={};a(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==r&&u.call(g,i)&&(v=g);var w=y.prototype=E.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(n,o,i,D){var s=h(t[n],t,o);if("throw"!==s.type){var a=s.arg,c=a.value;return c&&"object"==gt(c)&&u.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,i,D)}),(function(t){r("throw",t,i,D)})):e.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return r("throw",t,i,D)}))}D(s.arg)}var o;n(this,"_invoke",{value:function(t,u){function n(){return new e((function(e,n){r(t,u,e,n)}))}return o=o?o.then(n,n):n()}})}function A(e,r,u){var n=l;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===F){if("throw"===o)throw i;return{value:t,done:!0}}for(u.method=o,u.arg=i;;){var D=u.delegate;if(D){var s=_(D,u);if(s){if(s===p)continue;return s}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(n===l)throw n=F,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);n=d;var a=h(e,r,u);if("normal"===a.type){if(n=u.done?F:f,a.arg===p)continue;return{value:a.arg,done:u.done}}"throw"===a.type&&(n=F,u.method="throw",u.arg=a.arg)}}}function _(e,r){var u=r.method,n=e.iterator[u];if(n===t)return r.delegate=null,"throw"===u&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==u&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+u+"' method")),p;var o=h(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,p;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(u.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(gt(e)+" is not iterable")}return C.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:C,configurable:!0}),C.displayName=a(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},x(b.prototype),a(b.prototype,D,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,u,n,o){void 0===o&&(o=Promise);var i=new b(c(t,r,u,n),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),a(w,s,"Generator"),a(w,i,(function(){return this})),a(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var u in e)r.push(u);return r.reverse(),function t(){for(;r.length;){var u=r.pop();if(u in e)return t.value=u,t.done=!1,t}return t.done=!0,t}},e.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var r in this)"t"===r.charAt(0)&&u.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(u,n){return D.type="throw",D.arg=e,r.next=u,n&&(r.method="next",r.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],D=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=u.call(i,"catchLoc"),a=u.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),B(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var u=r.completion;if("throw"===u.type){var n=u.arg;B(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,u){return this.delegate={iterator:S(e),resultName:r,nextLoc:u},"next"===this.method&&(this.arg=t),p}},e}function Lt(t,e,r,u,n,o,i){try{var D=t[o](i),s=D.value}catch(t){return void r(t)}D.done?e(s):Promise.resolve(s).then(u,n)}function Bt(t){return function(){var e=this,r=arguments;return new Promise((function(u,n){var o=t.apply(e,r);function i(t){Lt(o,u,n,i,D,"next",t)}function D(t){Lt(o,u,n,i,D,"throw",t)}i(void 0)}))}}
/*!
 * element-emotes
 * Copyright (C) 2022-present  Michael Serajnik  https://github.com/mserajnik
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */mt.version="6.6.2",mt.createIndex=Y,mt.parseIndex=function(t,{getFn:e=K.getFn,fieldNormWeight:r=K.fieldNormWeight}={}){const{keys:u,records:n}=t,o=new V({getFn:e,fieldNormWeight:r});return o.setKeys(u),o.setIndexRecords(n),o},mt.config=K,mt.parseQuery=Ct,function(...t){ct.push(...t)}(at);var Ot,St,Mt=r(675).Textcomplete,Nt=r(336).ContenteditableEditor,kt=function(t){return Ot.search(t.split(":").join(""))},jt={id:"emote",match:/\B:([-+\w]*)$/,index:1,search:(St=Bt(_t().mark((function t(e,r,u){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(kt(e));case 1:case"end":return t.stop()}}),t)}))),function(t,e,r){return St.apply(this,arguments)}),cache:!1,template:function(t){return'<img src="'.concat(t.item.url,"?accessKey=").concat(F.get("accessKey"),'">&nbsp;<small>').concat(t.item.name,"</small>")},replace:function(t){return":".concat(t.item.name,": ")}},It={dropdown:{className:"dropdown-menu textcomplete-dropdown mx_Autocomplete",maxCount:10,placement:"top",header:function(){return""},footer:function(){return""},rotate:!0,style:{display:"none",position:"absolute",zIndex:"1000"},parent:document.body,item:{className:"textcomplete-item mx_Autocomplete_Completion_pill",activeClassName:"textcomplete-item active mx_Autocomplete_Completion_pill mx_Autocomplete_Completion selected"}}},Pt=function(){var t=Bt(_t().mark((function t(e){var r;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.dataset.handlingEmoteSuggestions){t.next=2;break}return t.abrupt("return");case 2:e.dataset.handlingEmoteSuggestions=!0,r=new Mt(new Nt(e),[jt],It),new MutationObserver((function(t,u){document.body.contains(e)||(r.destroy(),u.disconnect())})).observe(document.body,{childList:!0,subtree:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Tt=function t(e){e.classList&&e.classList.contains("mx_BasicMessageComposer_input")?Pt(e):e.childNodes&&xt(e.childNodes).forEach(t)};const Rt=function(){Ot=new mt(F.get("emotes"),{keys:["name"]}),new MutationObserver((function(t){var e,r=wt(t);try{for(r.s();!(e=r.n()).done;){var u,n=wt(e.value.addedNodes);try{for(n.s();!(u=n.n()).done;){var o=u.value;Tt(o)}}catch(t){n.e(t)}finally{n.f()}}}catch(t){r.e(t)}finally{r.f()}})).observe(document.body,{childList:!0,subtree:!0})};function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function Wt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wt=function(){return e};var t,e={},r=Object.prototype,u=r.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",D=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function a(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,r){return t[e]=r}}function c(t,e,r,u){var o=e&&e.prototype instanceof E?e:E,i=Object.create(o.prototype),D=new O(u||[]);return n(i,"_invoke",{value:A(t,r,D)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var l="suspendedStart",f="suspendedYield",d="executing",F="completed",p={};function E(){}function C(){}function y(){}var v={};a(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==r&&u.call(g,i)&&(v=g);var w=y.prototype=E.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(n,o,i,D){var s=h(t[n],t,o);if("throw"!==s.type){var a=s.arg,c=a.value;return c&&"object"==$t(c)&&u.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,i,D)}),(function(t){r("throw",t,i,D)})):e.resolve(c).then((function(t){a.value=t,i(a)}),(function(t){return r("throw",t,i,D)}))}D(s.arg)}var o;n(this,"_invoke",{value:function(t,u){function n(){return new e((function(e,n){r(t,u,e,n)}))}return o=o?o.then(n,n):n()}})}function A(e,r,u){var n=l;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===F){if("throw"===o)throw i;return{value:t,done:!0}}for(u.method=o,u.arg=i;;){var D=u.delegate;if(D){var s=_(D,u);if(s){if(s===p)continue;return s}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(n===l)throw n=F,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);n=d;var a=h(e,r,u);if("normal"===a.type){if(n=u.done?F:f,a.arg===p)continue;return{value:a.arg,done:u.done}}"throw"===a.type&&(n=F,u.method="throw",u.arg=a.arg)}}}function _(e,r){var u=r.method,n=e.iterator[u];if(n===t)return r.delegate=null,"throw"===u&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==u&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+u+"' method")),p;var o=h(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,p;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(u.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError($t(e)+" is not iterable")}return C.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:C,configurable:!0}),C.displayName=a(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},x(b.prototype),a(b.prototype,D,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,u,n,o){void 0===o&&(o=Promise);var i=new b(c(t,r,u,n),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(w),a(w,s,"Generator"),a(w,i,(function(){return this})),a(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var u in e)r.push(u);return r.reverse(),function t(){for(;r.length;){var u=r.pop();if(u in e)return t.value=u,t.done=!1,t}return t.done=!0,t}},e.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var r in this)"t"===r.charAt(0)&&u.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(u,n){return D.type="throw",D.arg=e,r.next=u,n&&(r.method="next",r.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],D=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=u.call(i,"catchLoc"),a=u.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),B(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var u=r.completion;if("throw"===u.type){var n=u.arg;B(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,u){return this.delegate={iterator:S(e),resultName:r,nextLoc:u},"next"===this.method&&(this.arg=t),p}},e}function Ut(t,e,r,u,n,o,i){try{var D=t[o](i),s=D.value}catch(t){return void r(t)}D.done?e(s):Promise.resolve(s).then(u,n)}
/*!
 * element-emotes
 * Copyright (C) 2022-present  Michael Serajnik  https://github.com/mserajnik
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
!function(t){return function(){var e=this,r=arguments;return new Promise((function(u,n){var o=t.apply(e,r);function i(t){Ut(o,u,n,i,D,"next",t)}function D(t){Ut(o,u,n,i,D,"throw",t)}i(void 0)}))}}(Wt().mark((function t(){return Wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.initialize();case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),alert(t.t0),t.abrupt("return");case 9:L(),Rt();case 11:case"end":return t.stop()}}),t,null,[[0,5]])})))()},976:t=>{t.exports=/\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFE])|\uD83C\uDFFE\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C\uDFFD\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C\uDFFC\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C\uDFFB\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83E\uDDD1(?:\uD83C[\uDFFC-\uDFFF]))|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\u2764\u200D\uD83D\uDC8B\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFE])|\uD83C\uDFFE\u200D\u2764\u200D\uD83D\uDC8B\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C\uDFFD\u200D\u2764\u200D\uD83D\uDC8B\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C\uDFFC\u200D\u2764\u200D\uD83D\uDC8B\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C\uDFFB\u200D\u2764\u200D\uD83D\uDC8B\u200D\uD83E\uDDD1(?:\uD83C[\uDFFC-\uDFFF]))|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])\u200D\u2764\u200D\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D\u2764\u200D\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83D\uDC68|(?:\uD83C[\uDFFB-\uDFFF])\u200D\u2764\uFE0F\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\u2764\uFE0F\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFE])|\uD83C\uDFFE\u200D\u2764\uFE0F\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C\uDFFD\u200D\u2764\uFE0F\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C\uDFFC\u200D\u2764\uFE0F\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C\uDFFB\u200D\u2764\uFE0F\u200D\uD83E\uDDD1(?:\uD83C[\uDFFC-\uDFFF]))|\uD83D\uDC69(?:\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFB-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFF]))|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83D\uDC68\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83D\uDC68|\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83D\uDC68\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC68|\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83D\uDC68\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC68|\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83D\uDC68\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC68|\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83D\uDC68\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83D\uDC68|\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69(?:\u200D(?:\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\u2764\u200D\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69]))|\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\u2764\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFF]))|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFF]))|\uD83D\uDC68\u200D\u2764\u200D\uD83D\uDC8B\u200D\uD83D\uDC68|\uD83D\uDC68\u200D(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])\u200D\u2764\u200D\uD83D\uDC68)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68\u200D\u2764\uFE0F\u200D\uD83D\uDC68|\uD83D\uDC69\u200D\u2764\uFE0F\u200D(?:\uD83D[\uDC68\uDC69])|\uD83E\uDDD1\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC68(?:\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\u2764\u200D\uD83D\uDC68|(?:\uD83D[\uDC67-\uDC69])\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]\uFE0F)|\uD83E\uDEF1(?:\uD83C\uDFFF\u200D\uD83E\uDEF2(?:\uD83C[\uDFFB-\uDFFE])|\uD83C\uDFFE\u200D\uD83E\uDEF2(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C\uDFFD\u200D\uD83E\uDEF2(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C\uDFFC\u200D\uD83E\uDEF2(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C\uDFFB\u200D\uD83E\uDEF2(?:\uD83C[\uDFFC-\uDFFF]))|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83C\uDFF3\uFE0F\u200D\u26A7|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\u2764\u200D(?:\uD83D[\uDC68\uDC69])|(?:\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF]))\u200D[\u2695\u2696\u2708]\uFE0F|\uD83D\uDC69\u200D(?:\uD83D[\uDC67\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|(?:\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83D\uDC41\u200D\uD83D\uDDE8|\uD83D\uDC3B\u200D\u2744|\uD83C\uDFF4\u200D\u2620|\uD83C\uDFF3\u200D\u26A7|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\u200D[\u2640\u2642])\uFE0F|\uD83C\uDFF3\uFE0F\u200D(?:\u26A7|\uD83C\uDF08)|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:[\u2695\u2696\u2708]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83E\uDDD1\u200D[\u2695\u2696\u2708]\uFE0F|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83D[\uDC68\uDC69])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:[\u2695\u2696\u2708]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D[\u2695\u2696\u2708]\uFE0F)|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC41\u200D\uD83D\uDDE8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC3B\u200D\u2744|\uD83C\uDFF4\u200D\u2620|\uD83C\uDFF3\u200D(?:\u26A7|\uD83C\uDF08)|\uD83E\uDDD1\u200D(?:[\u2695\u2696\u2708]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83D[\uDC08\uDC26])\u200D\u2B1B|\u2764\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|(?:\u26F9|\uD83C[\uDFC3\uDFC4\uDFCA-\uDFCC]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDD75\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDF])\u200D[\u2640\u2642]|(?:\uD83D[\uDC68\uDC69])\u200D(?:[\u2695\u2696\u2708]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDC66\uDC67\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\u20E3|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC3\uDFC7]|\uD83D[\uDC43\uDC4A-\uDC4C\uDC4F\uDC50\uDC66-\uDC69\uDC6B-\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD\uDEC3-\uDEC5\uDEF0-\uDEF8])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270C\u270D]|\uD83C[\uDFC2\uDFC4\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC46-\uDC49\uDC4D\uDC4E\uDD74\uDD75\uDD90])(?:[\uFE0E\uFE0F]|\uD83C[\uDFFB-\uDFFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9\u23EA\u23ED-\u23EF\u23F1-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7\u26F8\u26FA\u26FD\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2753\u2757\u2763\u2764\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE1A\uDE2F\uDE37\uDF0D-\uDF0F\uDF15\uDF1C\uDF21\uDF24-\uDF2C\uDF36\uDF78\uDF7D\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFA7\uDFAC-\uDFAE\uDFC6\uDFCD\uDFCE\uDFD4-\uDFE0\uDFED\uDFF3\uDFF5\uDFF7]|\uD83D[\uDC08\uDC15\uDC1F\uDC26\uDC3F\uDC41\uDC53\uDC6A\uDC7D\uDCA3\uDCB0\uDCB3\uDCBB\uDCBF\uDCCB\uDCDA\uDCDF\uDCE4-\uDCE6\uDCEA-\uDCED\uDCF7\uDCF9-\uDCFB\uDCFD\uDD08\uDD0D\uDD12\uDD13\uDD49\uDD4A\uDD50-\uDD67\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDE10\uDE87\uDE8D\uDE91\uDE94\uDE98\uDEAD\uDEB2\uDEB9\uDEBA\uDEBC\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])[\uFE0E\uFE0F]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8]/},729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function u(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,u,o,i){if("function"!=typeof u)throw new TypeError("The listener must be a function");var D=new n(u,o||t,i),s=r?r+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],D]:t._events[s].push(D):(t._events[s]=D,t._eventsCount++),t}function i(t,e){0==--t._eventsCount?t._events=new u:delete t._events[e]}function D(){this._events=new u,this._eventsCount=0}Object.create&&(u.prototype=Object.create(null),(new u).__proto__||(r=!1)),D.prototype.eventNames=function(){var t,u,n=[];if(0===this._eventsCount)return n;for(u in t=this._events)e.call(t,u)&&n.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},D.prototype.listeners=function(t){var e=r?r+t:t,u=this._events[e];if(!u)return[];if(u.fn)return[u.fn];for(var n=0,o=u.length,i=new Array(o);n<o;n++)i[n]=u[n].fn;return i},D.prototype.listenerCount=function(t){var e=r?r+t:t,u=this._events[e];return u?u.fn?1:u.length:0},D.prototype.emit=function(t,e,u,n,o,i){var D=r?r+t:t;if(!this._events[D])return!1;var s,a,c=this._events[D],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,u),!0;case 4:return c.fn.call(c.context,e,u,n),!0;case 5:return c.fn.call(c.context,e,u,n,o),!0;case 6:return c.fn.call(c.context,e,u,n,o,i),!0}for(a=1,s=new Array(h-1);a<h;a++)s[a-1]=arguments[a];c.fn.apply(c.context,s)}else{var l,f=c.length;for(a=0;a<f;a++)switch(c[a].once&&this.removeListener(t,c[a].fn,void 0,!0),h){case 1:c[a].fn.call(c[a].context);break;case 2:c[a].fn.call(c[a].context,e);break;case 3:c[a].fn.call(c[a].context,e,u);break;case 4:c[a].fn.call(c[a].context,e,u,n);break;default:if(!s)for(l=1,s=new Array(h-1);l<h;l++)s[l-1]=arguments[l];c[a].fn.apply(c[a].context,s)}}return!0},D.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},D.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},D.prototype.removeListener=function(t,e,u,n){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return i(this,o),this;var D=this._events[o];if(D.fn)D.fn!==e||n&&!D.once||u&&D.context!==u||i(this,o);else{for(var s=0,a=[],c=D.length;s<c;s++)(D[s].fn!==e||n&&!D[s].once||u&&D[s].context!==u)&&a.push(D[s]);a.length?this._events[o]=1===a.length?a[0]:a:i(this,o)}return this},D.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&i(this,e)):(this._events=new u,this._eventsCount=0),this},D.prototype.off=D.prototype.removeListener,D.prototype.addListener=D.prototype.on,D.prefixed=r,D.EventEmitter=D,t.exports=D},455:()=>{}},r={};function u(t){var n=r[t];if(void 0!==n)return n.exports;var o=r[t]={exports:{}};return e[t].call(o.exports,o,o.exports,u),o.exports}u.m=e,t=[],u.O=(e,r,n,o)=>{if(!r){var i=1/0;for(c=0;c<t.length;c++){for(var[r,n,o]=t[c],D=!0,s=0;s<r.length;s++)(!1&o||i>=o)&&Object.keys(u.O).every((t=>u.O[t](r[s])))?r.splice(s--,1):(D=!1,o<i&&(i=o));if(D){t.splice(c--,1);var a=n();void 0!==a&&(e=a)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[r,n,o]},u.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return u.d(e,{a:e}),e},u.d=(t,e)=>{for(var r in e)u.o(e,r)&&!u.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},u.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={532:0,588:0};u.O.j=e=>0===t[e];var e=(e,r)=>{var n,o,[i,D,s]=r,a=0;if(i.some((e=>0!==t[e]))){for(n in D)u.o(D,n)&&(u.m[n]=D[n]);if(s)var c=s(u)}for(e&&e(r);a<i.length;a++)o=i[a],u.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return u.O(c)},r=self.webpackChunkelement_emotes=self.webpackChunkelement_emotes||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),u.O(void 0,[588],(()=>u(949)));var n=u.O(void 0,[588],(()=>u(455)));n=u.O(n)})();