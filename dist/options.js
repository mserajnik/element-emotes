/*!
 * element-emotes
 * Copyright (C) 2022-present  Michael Serajnik  https://github.com/mserajnik
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */var Q=()=>{let b=document.getElementById("emotes-url").value.trim(),j=document.getElementById("access-key").value.trim(),w=document.getElementById("default-emote-size").value.trim(),x=document.getElementById("large-emote-size").value.trim(),D=document.getElementById("use-frozen-emotes").checked,G=document.getElementById("emote-suggestion-amount").value.trim(),H=document.getElementById("use-emote-fuzzy-matching").checked,J=document.getElementById("emote-fuzzy-matching-location").value.trim(),L=document.getElementById("emote-fuzzy-matching-distance").value.trim(),N=document.getElementById("emote-fuzzy-matching-threshold").value.trim(),O=document.getElementById("emote-suggestion-blacklisted-strings").value.trim(),P=document.getElementById("display-status-indicator").checked,v=[];for(let q=1;q<=8;q++)v.push(document.getElementById(`username-color-${q}`).value.trim());chrome.storage.sync.set({emotesUrl:b,accessKey:j,defaultEmoteSize:w,largeEmoteSize:x,useFrozenEmotes:D,emoteSuggestionAmount:G,useEmoteFuzzyMatching:H,emoteFuzzyMatchingLocation:J,emoteFuzzyMatchingDistance:L,emoteFuzzyMatchingThreshold:N,emoteSuggestionBlacklistedStrings:O,usernameColors:v,displayStatusIndicator:P},()=>{let q=document.getElementById("status");q.textContent="Options saved.",setTimeout(()=>{q.textContent=""},750)})},R=()=>{chrome.storage.sync.get({emotesUrl:"",accessKey:"",defaultEmoteSize:"2em",largeEmoteSize:"4em",useFrozenEmotes:!1,emoteSuggestionAmount:10,useEmoteFuzzyMatching:!0,emoteFuzzyMatchingLocation:0,emoteFuzzyMatchingDistance:100,emoteFuzzyMatchingThreshold:0.6,emoteSuggestionBlacklistedStrings:"",usernameColors:["","","","","","","",""],displayStatusIndicator:!0},(b)=>{document.getElementById("emotes-url").value=b.emotesUrl,document.getElementById("access-key").value=b.accessKey,document.getElementById("default-emote-size").value=b.defaultEmoteSize,document.getElementById("large-emote-size").value=b.largeEmoteSize,document.getElementById("use-frozen-emotes").checked=b.useFrozenEmotes,document.getElementById("emote-suggestion-amount").value=b.emoteSuggestionAmount,document.getElementById("use-emote-fuzzy-matching").checked=b.useEmoteFuzzyMatching,document.getElementById("emote-fuzzy-matching-location").value=b.emoteFuzzyMatchingLocation,document.getElementById("emote-fuzzy-matching-distance").value=b.emoteFuzzyMatchingDistance,document.getElementById("emote-fuzzy-matching-threshold").value=b.emoteFuzzyMatchingThreshold,document.getElementById("emote-suggestion-blacklisted-strings").value=b.emoteSuggestionBlacklistedStrings,document.getElementById("display-status-indicator").checked=b.displayStatusIndicator;for(let j=1;j<=8;j++)document.getElementById(`username-color-${j}`).value=b.usernameColors[j-1]})};document.addEventListener("DOMContentLoaded",R);document.getElementById("save").addEventListener("click",Q);
